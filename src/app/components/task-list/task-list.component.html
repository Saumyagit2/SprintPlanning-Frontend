<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<hr>
<div *ngFor="let task of tasks;let i = index">
    <mat-expansion-panel hideToggle (opened)="viewSubTasks(task.taskId)" (opened)="panelOpenState = true"
    (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{task.taskName}}
          </mat-panel-title>
          <mat-panel-description>
            {{task.description}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <p>{{task.startDate}}</p>
        <p>Last Modified by : Anirudh</p>
        <button mat-icon-button  style="margin: 7px;" (click)="updateTask(i)"><mat-icon>edit</mat-icon></button>
        <button mat-icon-button  style="margin: 7px;"(click)="removeTask(task.taskId)"><mat-icon>delete_outline</mat-icon></button>
        <button mat-icon-button  style="margin: 7px;"(click)="addSubTask(task.taskId)"><mat-icon>add_outline</mat-icon></button>
        <!-- <button mat-icon-button  style="margin: 7px;"(click)="viewSubTasks(task.taskId)"><mat-icon>navigate_next</mat-icon>View SubTasks</button> -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

 <hr>
 <div  *ngFor="let subtask of subtasks;let i = index">
   <div *ngIf="subtask.primarytaskId===task.taskId">
  
     <mat-expansion-panel  >
         <mat-expansion-panel-header>
           <mat-panel-title>
             {{subtask.subtaskName}}
           </mat-panel-title>
           <mat-panel-description>
             {{subtask.description}}
           </mat-panel-description>
         </mat-expansion-panel-header>
         <p>{{subtask.startDate}}</p>
         <p>Last Modified by : Anirudh</p>
         <button mat-icon-button  style="margin: 7px;" (click)="updateSubTask(i)"><mat-icon>edit</mat-icon></button>
         <button mat-icon-button  style="margin: 7px;"(click)="removesubTask(subtask.subtaskId)"><mat-icon>delete_outline</mat-icon></button>
         
       </mat-expansion-panel>
       <br>
   </div>
       
     <!-- <div *ngFor="let todo of todoItems">
     
        <button style="margin: 10px;" mat-button color="primary" (click)="updateSelected(todo)">{{ todo.title }}</button>
     </div> -->
 </div>
      </mat-expansion-panel>
      
    
      
    <!-- <div *ngFor="let todo of todoItems">
    
       <button style="margin: 10px;" mat-button color="primary" (click)="updateSelected(todo)">{{ todo.title }}</button>
    </div> -->
</div>

<button mat-raised-button style="margin: 20px;"color="primary" (click)="addTask()">Add Task</button>





<!-- <hr>

<div *ngFor="let todo of todoItems">

   <button style="margin: 10px;" mat-button color="primary" (click)="updateSelected(todo)">{{ todo.title }}</button>
</div>

<button mat-raised-button style="margin: 20px;"color="primary" (click)="addTask()">Add Task</button>
    
<mat-card *ngFor="let task of tasks;let i = index" style="margin: 10px; width: 300px; display:inline-block;">
    
   
    <mat-card-title>{{task.taskName}}</mat-card-title>

    <mat-card-content>{{task.description}}</mat-card-content>

    <mat-card-content>{{task.startDate}}</mat-card-content>
    
    <mat-card-content>{{task.endDate}}</mat-card-content>

    <button mat-raised-button style="margin: 20px;"color="primary" (click)="updateTask(i)">Update</button>
    <button mat-raised-button color="primary" (click)="removeTask(task.taskId)">Delete</button>
    <button mat-raised-button style="margin: 20px;"color="primary" (click)="addSubTask(task.taskId)">Add Subtask </button>
    <button mat-raised-button style="margin: 20px;"color="primary" (click)="viewSubTasks(task.taskId)">View Subtask </button>
  
    
</mat-card>

 -->
